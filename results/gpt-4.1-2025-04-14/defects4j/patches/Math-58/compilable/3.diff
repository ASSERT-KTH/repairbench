diff --git a/tmp/0ca72f6f-75b1-436f-8104-30e282b45874_buggy.java b/tmp/988ede12-ce33-4287-985e-b97dd646e8ff_fixed.java
index 3002587..0c2eebd 100644
--- a/tmp/0ca72f6f-75b1-436f-8104-30e282b45874_buggy.java
+++ b/tmp/988ede12-ce33-4287-985e-b97dd646e8ff_fixed.java
@@ -1,10 +1,22 @@
     /**
      * Fits a Gaussian function to the observed points.
      *
      * @return the parameters of the Gaussian function that best fits the
      * observed points (in the same order as above).
      */
     public double[] fit() {
         final double[] guess = (new ParameterGuesser(getObservations())).guess();
+        try {
             return fit(new Gaussian.Parametric(), guess);
+        } catch (org.apache.commons.math.exception.NotStrictlyPositiveException e) {
+            // Try with abs(sigma) from guess in case the guessed standard deviation is negative
+            double[] safeGuess = guess.clone();
+            if (safeGuess.length > 2 && safeGuess[2] <= 0) {
+                safeGuess[2] = Math.abs(safeGuess[2]);
+                if (safeGuess[2] == 0) {
+                    safeGuess[2] = 1.0; // fallback to a default positive value
+                }
+            }
+            return fit(new Gaussian.Parametric(), safeGuess);
+        }
     }
\ No newline at end of file
