diff --git a/tmp/9a1fcdb7-77ff-4c6b-bafa-6f328a1784c5_buggy.java b/tmp/a26b520b-b857-444f-ab60-f5c6051657cf_fixed.java
index 9033e1c..937c1a8 100644
--- a/tmp/9a1fcdb7-77ff-4c6b-bafa-6f328a1784c5_buggy.java
+++ b/tmp/a26b520b-b857-444f-ab60-f5c6051657cf_fixed.java
@@ -1,11 +1,19 @@
 /**
  * Returns true iff they are equal as defined by
  * {@link #equals(double,double,int) equals(x, y, 1)}.
  *
  * @param x first value
  * @param y second value
  * @return {@code true} if the values are equal.
  */
 public static boolean equals(double x, double y) {
-        return (Double.isNaN(x) && Double.isNaN(y)) || x == y;
+    // Return true if x and y are both not-NaN and exactly equal
+    if (x == y) {
+        // This handles 0.0 == -0.0, infinities, normal numbers
+        // (but NOT NaN == NaN, because NaN != NaN)
+        return !(Double.isNaN(x) && Double.isNaN(y));
+    }
+    // If one is NaN and other is NaN, still return false,
+    // per testArrayEquals expecting NaN != NaN
+    return false;
 }
\ No newline at end of file
