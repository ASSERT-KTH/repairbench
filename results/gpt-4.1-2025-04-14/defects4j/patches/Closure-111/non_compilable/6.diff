diff --git a/tmp/e4826444-54b1-4919-bcf6-f00b1147010c_buggy.java b/tmp/a2dd9bcc-daf1-404b-99a4-da90eb941209_fixed.java
index f1d02c1..3e9266e 100644
--- a/tmp/e4826444-54b1-4919-bcf6-f00b1147010c_buggy.java
+++ b/tmp/a2dd9bcc-daf1-404b-99a4-da90eb941209_fixed.java
@@ -1,4 +1,9 @@
 @Override
 protected JSType caseTopType(JSType topType) {
+  // When the type is the top type (e.g., UNKNOWN_TYPE or ALL_TYPE),
+  // for functions like goog.isArray, we should restrict to ARRAY_TYPE.
+  if (topType.isAllType() || topType.isUnknownType()) {
+    return getNativeType(JSTypeNative.ARRAY_TYPE);
+  }
   return topType;
 }
\ No newline at end of file
