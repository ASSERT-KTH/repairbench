diff --git a/tmp/539bb9bd-8024-475f-bf4b-c07a853bbc0f_buggy.java b/tmp/9188183d-a13f-4e3c-b380-6a80fff60c91_fixed.java
index f1d02c1..6c02f10 100644
--- a/tmp/539bb9bd-8024-475f-bf4b-c07a853bbc0f_buggy.java
+++ b/tmp/9188183d-a13f-4e3c-b380-6a80fff60c91_fixed.java
@@ -1,4 +1,9 @@
 @Override
 protected JSType caseTopType(JSType topType) {
+  // When given the top type, assume it's the broadest type, so refine to get the most specific possible.
+  if (topType.isAllType() || topType.isUnknownType() || topType.isObject() || topType.isTopType()) {
+    // For the context of goog.isArray, we should return the ARRAY_TYPE if possible.
+    return ARRAY_TYPE;
+  }
   return topType;
 }
\ No newline at end of file
