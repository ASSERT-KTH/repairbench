diff --git a/tmp/011f41d9-8c55-4248-b057-3b0df8dd5aa6_buggy.java b/tmp/95a5e907-4204-4213-ac40-92421708f135_fixed.java
index e69de29..c19fe1c 100644
--- a/tmp/011f41d9-8c55-4248-b057-3b0df8dd5aa6_buggy.java
+++ b/tmp/95a5e907-4204-4213-ac40-92421708f135_fixed.java
@@ -0,0 +1,17 @@
+private String generateJsonWithQuotes(JsonFactory jsonFactory, Map<String, Object> map, boolean quoteFieldNames) throws IOException {
+    StringWriter writer = new StringWriter();
+    JsonGenerator jsonGenerator = jsonFactory.createGenerator(writer);
+
+    // Set the quoting based on the provided parameter
+    jsonGenerator.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, quoteFieldNames);
+
+    jsonGenerator.writeStartObject();
+    for (Map.Entry<String, Object> entry : map.entrySet()) {
+        jsonGenerator.writeFieldName(entry.getKey());
+        jsonGenerator.writeObject(entry.getValue());
+    }
+    jsonGenerator.writeEndObject();
+    jsonGenerator.close();
+
+    return writer.toString();
+}
\ No newline at end of file
